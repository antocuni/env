#!/bin/bash

function isatty()
{
    python -c 'import sys,os; sys.exit(not os.isatty(1))'
}

case $1 in
    diff)     
        if isatty
        then
            /usr/bin/svn "$@" | diffpipe.py | less 
        else
            /usr/bin/svn "$@"
        fi ;;
    f|viewwc) shift 1; viewwc.py "$@" ;;
    *)        /usr/bin/svn "$@" ;;
esac
