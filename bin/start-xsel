#!/usr/bin/env python

import os
import commands
import rxvtlib

def main():
    sel = commands.getoutput('xsel -o')
    if sel.startswith('r'):
        rev = sel[1:]
        cmd = 'svn show --rev %s http://codespeak.net/svn' % (rev,)
        cmd = rxvtlib.command_in_term(cmd) 
        os.system(cmd)
    else:
        os.system("""xterm -e 'echo "%s"; read'""" % sel)

if __name__ == '__main__':
    main()
